"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[248],{70152:(e,t,n)=>{n.d(t,{N:()=>i});var o=n(72791),r=n(57689),s=n(11087);function i(e){let{when:t,message:n,...i}=e;return function(e){let{beforeUnload:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.aQ)(o.useCallback((()=>"string"===typeof e&&!window.confirm(e)),[e])),i=o.useRef(n.state);o.useEffect((()=>{"blocked"===n.state&&n.reset(),i.current=n.state}),[n]),(0,s.yq)(o.useCallback((n=>{t&&"string"===typeof e&&(n.preventDefault(),n.returnValue=e)}),[e,t]),{capture:!0})}(!!t&&n,i),null}},33508:(e,t,n)=>{n.d(t,{GO:()=>s,Ht:()=>i,lW:()=>a});var o=n(9631);const r={"http:":"ws:","https:":"wss:"};function s(e,t){const n=new URL(e,o.Z.sharedbBackendUrl);return t&&(n.protocol=r[n.protocol]),n.toString()}async function i(e){const t=await fetch(s(e));return t&&t.ok}async function a(e){const t=await fetch(o.Z.sharedbBackendUrl,{method:"POST",body:e,headers:{"Content-Type":"text/plain"}});if(!t||!t.ok)throw new Error(t?`Could not create new session: ${await t.text()}`:"Unknown error creating session");return t.text()}},14635:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(37305),r=n(81694),s=n.n(r),i=(n(72791),n(80184));const a=e=>{const t=(0,i.jsx)("div",{className:s()("ControlBar_editor",o.ZoI),children:e.editorButtons}),n=e.flowButtons&&(0,i.jsx)("div",{className:s()("ControlBar_flow",o.ZoI),children:e.flowButtons}),r=(0,i.jsx)("div",{className:s()("ControlBar_editingWorkspace",o.ZoI),children:e.editingWorkspaceButtons});return(0,i.jsxs)("div",{className:"ControlBar",children:[t,n,r]})}},89360:(e,t,n)=>{n.d(t,{_:()=>i});var o=n(59118),r=(n(72791),n(17862)),s=n(80184);const i=e=>{let{handleReplOutputClear:t}=e;return(0,s.jsx)(r.Z,{label:"Clear",icon:o.d.REMOVE,onClick:t})}},27156:(e,t,n)=>{n.d(t,{e:()=>a});var o=n(59118),r=n(95785),s=(n(72791),n(17862)),i=n(80184);const a=e=>{let{handleReplEval:t,isRunning:n}=e;return n?null:(0,i.jsx)(r.u,{content:"...or press shift-enter in the REPL",children:(0,i.jsx)(s.Z,{label:"Eval",icon:o.d.CODE,onClick:t})})}},50472:(e,t,n)=>{n.d(t,{h:()=>c});var o=n(32183),r=n(59118),s=n(95785),i=(n(72791),n(17862)),a=n(80184);const c=e=>{const t=e.isEntrypointFileDefined?"...or press shift-enter in the editor":"Open a file to evaluate the program with the file as the entrypoint";return(0,a.jsx)(s.u,{content:t,placement:o.Ly.TOP,children:(0,a.jsx)(i.Z,{label:"Run",icon:r.d.PLAY,onClick:e.handleEditorEval,options:{iconColor:e.color,className:e.className},isDisabled:!e.isEntrypointFileDefined})})}},29860:(e,t,n)=>{n.d(t,{F:()=>F,Z:()=>W});var o=n(65675),r=(n(25351),n(763)),s=n.n(r),i=n(72791),a=(n(40149),n(56339),n(59341),n(38399)),c=n(37325),l=n(94694),d=n(80184);class u extends i.PureComponent{constructor(e){super(e),this.ShareAce=void 0,this.AceEditor=void 0,this.onChangeMethod=void 0,this.onCursorChange=void 0,this.onSelectionChange=void 0,this.getMarkers=()=>{const e=[];for(const t of this.props.highlightedLines)e.push({startRow:t[0],startCol:0,endRow:t[1],endCol:1,className:"myMarker",type:"fullLine"});return e},this.handleGutterClick=e=>{const t=e.domEvent.target;if(-1===t.className.indexOf("ace_gutter-cell")||!e.editor.isFocused()||e.clientX>35+t.getBoundingClientRect().left)return;const n=e.getDocumentPosition().row,o=e.editor.session.getLine(n);void 0!==e.editor.session.getBreakpoints(n,0)[n]||0===o.length||o.includes("//")||o.includes("debugger;")?e.editor.session.clearBreakpoint(n):e.editor.session.setBreakpoint(n),e.stop(),this.props.handleEditorUpdateBreakpoints(e.editor.session.$breakpoints)},this.handleAnnotationChange=e=>()=>{const t=e.getAnnotations();let n=0;for(const e of t)"info"===e.type&&(e.type="error",e.className="ace_error",n++);0!==n&&e.setAnnotations(t)},this.handleEvaluate=()=>{this.props.handleEditorEval(),this.props.isRecording&&this.props.handleRecordInput({type:"keyboardCommand",time:this.props.getTimerDuration(),data:l.SO.run})},this.moveCursor=e=>{this.AceEditor.current.editor.selection.clearSelection(),this.AceEditor.current.editor.moveCursorToPosition(e),this.AceEditor.current.editor.renderer.showCursor(),this.AceEditor.current.editor.renderer.scrollCursorIntoView(e,.5)},this.handleDeclarationNavigate=()=>{this.props.handleDeclarationNavigate(this.AceEditor.current.editor.getCursorPosition())},this.AceEditor=i.createRef(),this.ShareAce=null,this.onChangeMethod=(e,t)=>{this.props.handleUpdateHasUnsavedChanges&&this.props.handleUpdateHasUnsavedChanges(!0),this.props.handleEditorValueChange(e),this.props.isRecording&&this.props.handleRecordInput({type:"codeDelta",time:this.props.getTimerDuration(),data:t});const n=this.AceEditor.current.editor.getSession().getAnnotations();this.props.isEditorAutorun&&0===n.length&&this.props.handleEditorEval()},this.onCursorChange=e=>{if(!this.props.isRecording)return;const t=e.getCursor();this.props.handleRecordInput({type:"cursorPositionChange",time:this.props.getTimerDuration(),data:t})},this.onSelectionChange=e=>{if(!this.props.isRecording)return;const t=e.getRange(),n=e.isBackwards();(0,r.isEqual)(t.start,t.end)||this.props.handleRecordInput({type:"selectionRangeData",time:this.props.getTimerDuration(),data:{range:t,isBackwards:n}})}}componentDidUpdate(e){const{codeDeltasToApply:t,inputToApply:n,newCursorPosition:o}=this.props;if(t&&t!==e.codeDeltasToApply&&(this.AceEditor.current.editor.session.getDocument().applyDeltas(t),this.AceEditor.current.editor.selection.clearSelection()),o&&o!==e.newCursorPosition&&this.moveCursor(o),n&&n!==e.inputToApply)switch(n.type){case"codeDelta":this.AceEditor.current.editor.session.getDocument().applyDelta(n.data),this.AceEditor.current.editor.selection.clearSelection();break;case"cursorPositionChange":this.moveCursor(n.data);break;case"selectionRangeData":const{range:e,isBackwards:t}=n.data;this.AceEditor.current.editor.selection.setRange(e,t);break;case"keyboardCommand":if("run"===n.data)this.props.handleEditorEval(),this.props.setDraggableReplPosition&&this.props.setDraggableReplPosition()}}getBreakpoints(){return this.AceEditor.current.editor.session.getBreakpoints().filter((e=>null!=e))}componentDidMount(){if(!this.AceEditor||!this.AceEditor.current||!this.AceEditor.current.editor)return;const e=this.AceEditor.current.editor,t=e.getSession();e.on("gutterclick",this.handleGutterClick),t.on("changeAnnotation",this.handleAnnotationChange(t));const{onFocus:n,onBlur:o}=this.props;n&&e.on("focus",(t=>n(t,e))),o&&e.on("blur",(t=>o(t,e)))}componentWillUnmount(){null!==this.ShareAce&&this.ShareAce.WS.close(),this.ShareAce=null}render(){return(0,d.jsx)(c.HotKeys,{className:"Editor bp4-card bp4-elevation-0",handlers:h,children:(0,d.jsx)("div",{className:"row editor-react-ace",children:(0,d.jsx)(a.ZP,{className:"react-ace",commands:[{name:"evaluate",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:this.handleEvaluate},{name:"navigate",bindKey:{win:"Ctrl-B",mac:"Command-B"},exec:this.handleDeclarationNavigate}],editorProps:{$blockScrolling:1/0},ref:this.AceEditor,markers:this.getMarkers(),fontSize:17,height:"100%",highlightActiveLine:!1,mode:"javascript",onChange:this.onChangeMethod,onCursorChange:this.onCursorChange,onSelectionChange:this.onSelectionChange,readOnly:this.props.isEditorReadonly,theme:"source",value:this.props.editorValue,width:"100%",setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"},keyboardHandler:this.props.editorBinding})})})}}const h={goGreen:()=>{}},p=u;var m=n(8098),g=(n(30027),n(42543));const f={evaluate:{win:"Shift-Enter",mac:"Shift-Enter"},navigate:{win:"Ctrl-B",mac:"Command-B"},refactor:{win:"Ctrl-M",mac:"Command-M"},highlightScope:{win:"Ctrl-Shift-H",mac:"Command-Shift-H"},typeInferenceDisplay:{win:"Ctrl-Shift-M",mac:"Command-Shift-M"}};var b=n(61881);const v=(e,t,n,r)=>{const s=i.useRef(e);s.current=e;const a=i.useRef([]),c=i.useCallback((()=>{setTimeout((()=>{if(!r.current)return;const e=r.current.editor,t=e.session,n=t.getValue(),i=s.current.sourceChapter,c=e.getCursorPosition();if(!t||!t.bgTokenizer)return;a.current.forEach((e=>{t.removeMarker(e)}));const l=(0,b.getAllOccurrencesInScope)(n,(0,b.createContext)(i),{line:c.row+1,column:c.column}).map((e=>new o.Range(e.start.line-1,e.start.column,e.end.line-1,e.end.column)));a.current=l.map((e=>t.addMarker(e,"ace_variable_highlighting","text")))}),10)}),[r]),l=i.useCallback((()=>{if(!r.current)return;const e=r.current.editor,t=e.getValue(),n=s.current.sourceChapter,i=e.getCursorPosition(),c=(0,b.getScope)(t,(0,b.createContext)(n),{line:i.row+1,column:i.column});0!==c.length&&c.forEach((t=>{a.current.push(e.session.addMarker(new o.Range(t.start.line-1,t.start.column,t.end.line-1,t.end.column),"ace_selection","text"))}))}),[r]),{onChange:d,onCursorChange:u}=t;t.onChange=i.useCallback(((e,t)=>{c(),d&&d(e,t)}),[c,d]),t.onCursorChange=i.useCallback(((e,t)=>{c(),u&&u(e,t)}),[c,u]),n.highlightScope=l};var C=n(53846),x=n(9631);const E=(e,t,n,o)=>{const r=i.useRef(e);r.current=e;const s=i.useCallback((()=>{const e=o.current.editor,t=e.selection.getCursor(),n=e.session.getTokenAt(t.row,t.column),{sourceChapter:s,handleDeclarationNavigate:i}=r.current;i(e.getCursorPosition());const a=e.selection.getCursor();if(a.row!==t.row||a.column!==t.column)return;if((0,b.hasDeclaration)(e.getValue(),(0,b.createContext)(s),{line:a.row+1,column:a.column}))return;const c=x.y.sourceDocs,l=r.current.sourceVariant===g.Variant.DEFAULT?"":`_${r.current.sourceVariant}`,d=void 0===r.current.externalLibraryName?"NONE":r.current.externalLibraryName,u="ALL"===r.current.externalLibraryName?"External%20libraries":d;C.u.externalLibraries[d].some((e=>e.caption===(n&&n.value)))?null!==n&&(/\bsupport.function\b/.test(n.type)||/\bbuiltinconsts\b/.test(n.type))&&window.open(`${c}${u}/global.html#${n.value}`):null!==n&&(/\bsupport.function\b/.test(n.type)||/\bbuiltinconsts\b/.test(n.type))&&window.open(`${c}source_${s}${l}/global.html#${n.value}`),null!==n&&/\bstorage.type\b/.test(n.type)&&window.open(`${c}source_${s}.pdf`)}),[o]);n.navigate=s},w=(e,t,n,r)=>{const{sourceChapter:s}=e,a=i.useCallback((()=>{const e=r.current.editor;if(!e)return;const t=e.getValue(),n=e.getCursorPosition(),i=(0,b.getAllOccurrencesInScope)(t,(0,b.createContext)(s),{line:n.row+1,column:n.column}),a=e.getSelection();i.map((e=>new o.Range(e.start.line-1,e.start.column,e.end.line-1,e.end.column))).forEach((e=>a.addRange(e)))}),[r,s]);n.refactor=a};var y=n(77683),k=n(99951),S=n(33508);const j=(e,t,n,o)=>{const r=i.useRef(e);r.current=e;const{editorSessionId:s}=e;i.useEffect((()=>{if(!s)return;const e=o.current.editor,t=new k.Z(s,{WsUrl:(0,S.GO)(s,!0),pluginWsUrl:null,namespace:"sa"});t.on("ready",(()=>{t.add(e,[],[]),r.current.handleSetSharedbConnected(!0)})),t.on("error",((e,t)=>{console.error("ShareAce error",t),y.Tb(t)}));const n=t.WS;let i;return i=setInterval((async()=>{if(null!==t)try{await(0,S.Ht)(s)||(clearInterval(i),n.close())}catch{n.reconnect()}}),5e3),n.addEventListener("open",(()=>{r.current.handleSetSharedbConnected(!0)})),n.addEventListener("close",(()=>{r.current.handleSetSharedbConnected(!1)})),()=>{clearInterval(i);for(const e of Object.values(t.connections))e.unlisten();t.WS.close()}}),[s,o])},N=(e,t,n,o)=>{const{sourceChapter:r,handleSendReplInputToOutput:s}=e,a=i.useCallback((()=>{const e=o.current.editor,t=e.getValue(),n=e.getCursorPosition(),i=e.session.getTokenAt(n.row,n.column);let a;if(s){if(n&&i){if("comment"===i.type)return;const e=(0,b.getTypeInformation)(t,(0,b.createContext)(r),{line:n.row+1,column:n.column},i.value);a=(e=>e.split("\n").filter((e=>""!==e)).map((e=>"// "+e)).join("\n"))(e),0===e.length&&(a="// type information not found")}else a="// invalid token. Please put cursor on an identifier.";s(a)}}),[o,s,r]);n.typeInferenceDisplay=a};var A=n(78052);const P=["onSelectionChange","onCursorChange","onInput","onLoad","onValidate","onBeforeLoad","onChange","onSelection","onCopy","onPaste","onFocus","onBlur","onScroll"],B=e=>{const t=[];return e.forEach(((e,n)=>{"ace_breakpoint"===e&&t.push(n)})),t},R={goGreen:()=>{}},T=i.memo((e=>{var t;const n=i.useRef(null),[r,s]=i.useState(void 0),l=i.useRef(e.handleEditorUpdateBreakpoints),u=i.useRef(e.handlePromptAutocomplete),h=null===(t=n.current)||void 0===t?void 0:t.editor;void 0!==h&&r!==e.filePath&&(e.session.setMode(h.getSession().getMode()),h.setSession(e.session),void 0!==r&&h.focus(),s(e.filePath)),i.useEffect((()=>{l.current=e.handleEditorUpdateBreakpoints,u.current=e.handlePromptAutocomplete}),[e.handleEditorUpdateBreakpoints,e.handlePromptAutocomplete]),i.useEffect((()=>{void 0!==h&&((e,t)=>{const n=B(t);e.session.setBreakpoints(n)})(h,e.breakpoints)}),[h,e.breakpoints]),i.useEffect((()=>(/iPhone|iPad|iPod/.test(navigator.userAgent)&&(document.body.style.position="fixed",document.body.style.width="100%"),()=>{document.body.style.position="",document.body.style.width=""})),[]);const[p,m,b]=[e.sourceChapter||g.Chapter.SOURCE_1,e.sourceVariant||g.Variant.DEFAULT,e.externalLibraryName||"NONE"];(0,A.g)(p,m,b),i.useLayoutEffect((()=>{if(void 0===h)return;const t=h.getSession();var n,r,s;h.on("gutterclick",(n=function(){return l.current(...arguments)},r=e.editorTabIndex,e=>{const t=e.domEvent.target;if(-1===t.className.indexOf("ace_gutter-cell")||!e.editor.isFocused()||e.clientX>35+t.getBoundingClientRect().left)return;const o=e.getDocumentPosition().row,s=e.editor.session.getLine(o);void 0!==e.editor.session.getBreakpoints()[o]||0===s.length||s.includes("//")||s.includes("debugger;")?e.editor.session.clearBreakpoint(o):e.editor.session.setBreakpoint(o,void 0),e.stop(),n(r,e.editor.session.getBreakpoints())})),t.on("changeAnnotation",(e=>()=>{const t=e.getAnnotations();let n=0;for(const e of t)"info"===e.type&&(e.type="error",e.className="ace_error",n++);0!==n&&e.setAnnotations(t)})(t)),(0,o.require)("ace/ext/language_tools").setCompleters([(s=function(){return u.current(...arguments)},{getCompletions:(e,t,n,o,r)=>{o&&/\d/.test(o.charAt(0))?r():s(n.row+1,n.column,r)}})])}),[h,e.editorTabIndex]),i.useLayoutEffect((()=>{if(void 0===h)return;const t=e.newCursorPosition;t&&((e,t)=>{e.selection.clearSelection(),e.moveCursorToPosition(t),e.renderer.showCursor(),e.renderer.scrollCursorIntoView(t,.5)})(h,t)}),[h,e.newCursorPosition]);const{handleUpdateHasUnsavedChanges:v,handleEditorValueChange:C,isEditorAutorun:x,handleEditorEval:E}=e,w={evaluate:E},y={className:"react-ace",editorProps:{$blockScrolling:1/0},markers:i.useMemo((()=>e.highlightedLines.map((e=>({startRow:e[0],startCol:0,endRow:e[1],endCol:1,className:"myMarker",type:"fullLine"})))),[e.highlightedLines]),fontSize:17,height:"100%",highlightActiveLine:!1,mode:(0,A.M)(p,m,b),theme:"source",value:e.editorValue,width:"100%",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,fontFamily:"'Inconsolata', 'Consolas', monospace"},keyboardHandler:e.editorBinding},[k]=i.useState(e.hooks);if(k)for(const o of k)o(e,y,w,n);const{onChange:S}=y;return y.onChange=i.useCallback(((t,o)=>{if(!n.current)return;C(e.editorTabIndex,t),((e,t)=>{const n=e=>0===e.trim().length,o=e.session.getBreakpoints(),r=B(o),s=[],i=t.start.row,a=t.start.column,c=t.end.row,l=t.lines.length-1;for(const u of r)switch(t.action){case"insert":{let t;if(u<i)t=!1;else if(u===i){t=(d=e.session.getLine(u)).length-d.trimStart().length>=a}else t=!0;const n=u+(t?l:0);s.push(n);break}case"remove":{let t;if(u<i)t=!1;else{if(u>i&&u<c)break;if(u===i){if(n(e.session.getLine(u)))break;t=!1}else if(u===c){if(n(e.session.getLine(u-l).substring(a)))break;t=!0}else t=!0}const o=u-(t?l:0);s.push(o);break}}var d;e.session.setBreakpoints(s)})(n.current.editor,o),v&&v(!0);const r=n.current.editor.getSession().getAnnotations();x&&0===r.length&&E(),void 0!==S&&S(t,o)}),[C,e.editorTabIndex,v,x,S,E]),y.commands=Object.entries(w).filter((e=>{let[t,n]=e;return n})).map((e=>{let[t,n]=e;return{name:t,bindKey:f[t],exec:n}})),P.forEach((t=>{const n=e[t];if(n){const e=y[t];y[t]=e?function(){e(...arguments),n(...arguments)}:n}})),(0,d.jsx)(c.HotKeys,{className:"Editor bp4-card bp4-elevation-0",handlers:R,children:(0,d.jsx)("div",{className:"row editor-react-ace","data-testid":"Editor",children:(0,d.jsx)(a.ZP,{...y,ref:n})})})})),I=[v,E,N,j,w],D=e=>{const[t,n]=i.useState({}),r=(0,o.require)("ace/mode/javascript").Mode(),s=(0,o.createEditSession)(e.editorValue,r);return void 0!==e.filePath&&void 0===t[e.filePath]&&n({...t,[e.filePath]:s}),(0,d.jsx)(T,{...e,session:e.filePath?t[e.filePath]:s,hooks:I})};var L=n(51411),O=n(59118),Z=n(81694),M=n.n(Z);const U=e=>{const{filePath:t,isActive:n,setActive:o,remove:r}=e;return(0,d.jsxs)(L.Zb,{className:M()("editor-tab",{selected:n}),onClick:o,children:[t,(0,d.jsx)(L.JO,{className:"remove-button",icon:O.d.SMALL_CROSS,onClick:e=>{e.stopPropagation(),r()}})]})};var z=n(67643),V=n.n(z);const H=e=>{const{baseFilePath:t,filePaths:n,activeEditorTabIndex:o,setActiveEditorTabIndex:r,removeEditorTabByIndex:s}=e,i=(e=>{const t={},n=e.reduce(((e,t)=>({...e,[t]:t.split(V().sep).filter((e=>""!==e))})),{});for(let o=1;Object.keys(t).length<e.length;o++){const e=Object.entries(n).reduce(((e,t)=>{var n;let[r,s]=t;const i="/"+s.slice(-o).join("/");return{...e,[i]:(null!==(n=e[i])&&void 0!==n?n:[]).concat(r)}}),{});Object.entries(e).forEach((e=>{let[o,r]=e;if(r.length>1)return;const s=r[0];t[s]=o,delete n[s]}))}return e.map((e=>t[e]))})(n.map((e=>e.replace(t,""))));return(0,d.jsx)("div",{className:"editor-tab-container",onWheel:e=>{e.currentTarget.scrollTo({left:e.currentTarget.scrollLeft+e.deltaY})},children:i.map(((e,t)=>(0,d.jsx)(U,{filePath:e,isActive:t===o,setActive:()=>r(t),remove:()=>s(t)},t)))})},F=(e,t)=>({editorTabIndex:t,editorValue:e.value,...s().pick(e,"filePath","highlightedLines","breakpoints","newCursorPosition")}),W=e=>{const[t]=i.useContext(m.Nb),{baseFilePath:n,isFolderModeEnabled:o,activeEditorTabIndex:r,setActiveEditorTabIndex:s,removeEditorTabByIndex:a,editorTabs:c,...l}=e;l.editorBinding=t.editorBinding;const u="sourcecast"===l.editorVariant?(e=>t=>(0,d.jsx)(p,{...e,...t}))(l):(e=>t=>(0,d.jsx)(D,{...e,...t}))(l);if(null===r)return(0,d.jsx)("div",{className:"editor-container",children:(0,d.jsx)("h1",{children:"Double click on a file in the sidebar to start editing!"})});const h=c.map((e=>{var t;return null!==(t=e.filePath)&&void 0!==t?t:"UNKNOWN"}));return(0,d.jsxs)("div",{className:"editor-container",children:[o&&(0,d.jsx)(H,{baseFilePath:null!==n&&void 0!==n?n:"",activeEditorTabIndex:r,filePaths:h,setActiveEditorTabIndex:s,removeEditorTabByIndex:a}),u(c[r])]})}},55360:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(50698),r=n(51411),s=n(72791),i=n(74106),a=n(44439),c=n(80184);class l extends s.PureComponent{constructor(){super(...arguments),this.onButtonClickFactory=e=>t=>{e!==this.props.mcq.answer&&this.props.handleMCQSubmit(e);if(null!==this.props.mcq.solution&&this.props.mcq.choices[e].hint){const t=(0,c.jsx)(i.Z,{className:"markdown-notification",content:this.props.mcq.choices[e].hint});e===this.props.mcq.solution?(0,a.rO)(t,4e3):(0,a.N9)(t,4e3)}},this.getButtonIntent=(e,t,n)=>{const r=e===t,s=r&&void 0!==n&&e===n;return void 0===n?o.S.NONE:r&&s?o.S.SUCCESS:r&&!s?o.S.DANGER:o.S.NONE}}render(){const e=this.props.mcq.choices.map(((e,t)=>(0,c.jsx)(r.zx,{className:"mcq-option col-xs-12",active:t===this.props.mcq.answer,intent:this.getButtonIntent(t,this.props.mcq.answer,this.props.mcq.solution),onClick:this.onButtonClickFactory(t),minimal:!0,children:(0,c.jsx)(i.Z,{content:e.content})},t)));return(0,c.jsx)("div",{className:"MCQChooser row","data-testid":"MCQChooser",children:(0,c.jsx)(r.Zb,{className:"mcq-content-parent col-xs-12 middle-xs",children:(0,c.jsx)("div",{className:"row mcq-options-parent between-xs",children:e})})})}}const d=l},37035:(e,t,n)=>{n.d(t,{Z:()=>N});var o=n(55048),r=n(30309),s=n(72791),i=n(14635),a=n(29860),c=n(55360),l=n(70152),d=n(1324),u=n(51411),h=n(81694),p=n.n(h),m=n(80184);const g=e=>{const{tabs:t,isExpanded:n,expandSideBar:o,collapseSideBar:r}=e,[i,a]=s.useState(0);return 0===t.length?(0,m.jsx)("div",{className:"sidebar-container"}):(0,m.jsxs)("div",{className:"sidebar-container",children:[(0,m.jsx)("div",{className:"sidebar-tab-container",children:t.map(((e,t)=>(0,m.jsxs)(u.Zb,{className:p()("sidebar-tab",{selected:n&&i===t}),onClick:()=>{var e;i!==(e=t)?(a(e),o()):n?r():o()},children:[(0,m.jsx)(u.JO,{className:"sidebar-tab-icon",icon:e.iconName,size:14}),e.label]},t)))}),null!==i&&(0,m.jsx)(u.Zb,{className:"sidebar-panel",children:t[i].body})]})};var f=n(95785),b=n(60879),v=n(1269),C=n(80757),x=n(39215);const E=e=>{let{selectedTabId:t,renderActiveTabPanelOnly:n,editorWidth:o,sideContentHeight:r,...s}=e;return(0,m.jsx)(C.Z,{...s,renderFunction:(e,i)=>(0,m.jsx)("div",{className:"side-content",children:(0,m.jsx)(u.Zb,{children:(0,m.jsx)("div",{className:"side-content-tabs",children:(0,m.jsx)(u.mQ,{id:"side-content-tabs",onChange:i,renderActiveTabPanelOnly:n,selectedTabId:t,children:e.map((e=>((e,t,n,o)=>{const r=void 0===e.id||e.id===x.B.module?e.label:e.id,s=(0,m.jsx)(f.u,{content:e.label,children:(0,m.jsx)("div",{className:(i=e.id,i===x.B.module||i===x.B.htmlDisplay?"side-content-tooltip side-content-tab-alert":"side-content-tooltip"),id:(0,C.Y)(r),children:(0,m.jsx)(u.JO,{icon:e.iconName,iconSize:20})})});var i;const a=(0,v.p)()({id:r,title:s,disabled:e.disabled,className:"side-content-tab"});if(!e.body)return(0,m.jsx)(u.OK,{...a},r);const c=t?{...e.body,props:{...e.body.props,workspaceLocation:t,editorWidth:n,sideContentHeight:o}}:e.body,l=(0,m.jsx)("div",{className:"side-content-text",children:c});return(0,m.jsx)(u.OK,{...a,panel:l},r)})(e,s.workspaceLocation,o,r)))})})})})})},w=s.memo(E,b.t);var y=n(90362);const k={right:!0},S={bottom:!0},j={},N=e=>{const t=s.useRef(null),n=s.useRef(null),u=s.useRef(null),h=s.useRef(null),p=s.useRef(null),f=s.useRef(null),[b]=(0,y.Bs)(n),[v,C]=s.useState(200),[x,E]=s.useState(!0);o.$.onlyShowFocusOnTabs(),s.useEffect((()=>{e.sideContentIsResizeable&&null===p.current&&(p.current=f.current.clientHeight)}));const N=(e,n,o,r)=>{if(o.clientWidth<100){const e=t.current;if(null===e)throw Error("Reference to SideBar not found when resizing.");e.updateSize({width:40,height:"100%"}),E(!1)}else E(!0)},A=(e,t,n)=>{const o=n.clientWidth/b*100;o>95?h.current.updateSize({width:"100%",height:"100%"}):o<5&&h.current.updateSize({width:"0%",height:"100%"})},P=(e,t,n)=>{p.current=f.current.clientHeight>p.current?f.current.clientHeight:p.current;const o=n.clientHeight,r=n.parentNode.clientHeight;o+p.current+2>r?f.current.style.display="none":f.current.style.display="initial"},B=(0,m.jsx)(w,{...e.sideContentProps}),R=(0,m.jsxs)(r.e,{bounds:"parent",className:"resize-side-content",enable:S,onResize:P,onResizeStop:(t,n,o)=>e.handleSideContentHeightChange(o.clientHeight),children:[B,(0,m.jsx)("div",{className:"side-content-divider",ref:f})]});return(0,m.jsxs)("div",{className:"workspace",children:[(0,m.jsx)(l.N,{when:!!e.hasUnsavedChanges,message:"You have changes that may not be saved. Are you sure you want to leave?"}),(0,m.jsx)(i.Z,{...e.controlBarProps}),(0,m.jsxs)("div",{className:"workspace-parent",children:[(0,m.jsx)(r.e,{...(()=>{const n=0!==e.sideBarProps.tabs.length,o=n?40:"auto";return{enable:n?k:j,minWidth:o,maxWidth:"50%",onResize:N,onResizeStop:(e,t,n,o)=>{const r=n.clientWidth;40!==r&&C(r)},ref:t,size:{width:n&&x?v:o,height:"100%"},defaultSize:{width:o,height:"100%"}}})(),children:(0,m.jsx)(g,{...e.sideBarProps,isExpanded:x,expandSideBar:()=>E(!0),collapseSideBar:()=>E(!1)})}),(0,m.jsxs)("div",{className:"row content-parent",ref:n,children:[(0,m.jsx)("div",{className:"editor-divider",ref:u}),(0,m.jsx)(r.e,{className:"resize-editor left-parent",enable:k,minWidth:0,onResize:A,ref:h,defaultSize:{width:"50%",height:"100%"},as:void 0,children:(e=>e.editorContainerProps?(0,m.jsx)(a.Z,{...e.editorContainerProps}):(0,m.jsx)(c.Z,{...e.mcqProps}))(e)}),(0,m.jsxs)("div",{className:"right-parent",children:[void 0===e.sideContentIsResizeable||e.sideContentIsResizeable?R:B,(0,m.jsx)(d.Z,{...e.replProps})]})]})]})]})}}}]);
//# sourceMappingURL=248.44102f46.chunk.js.map