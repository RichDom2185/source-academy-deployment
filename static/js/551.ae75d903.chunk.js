(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[551],{14635:(e,c,a)=>{"use strict";a.d(c,{Z:()=>l});var o=a(37305),r=a(81694),t=a.n(r),s=(a(72791),a(80184));const l=e=>{const c=(0,s.jsx)("div",{className:t()("ControlBar_editor",o.ZoI),children:e.editorButtons}),a=e.flowButtons&&(0,s.jsx)("div",{className:t()("ControlBar_flow",o.ZoI),children:e.flowButtons}),r=(0,s.jsx)("div",{className:t()("ControlBar_editingWorkspace",o.ZoI),children:e.editingWorkspaceButtons});return(0,s.jsxs)("div",{className:"ControlBar",children:[c,a,r]})}},1799:(e,c,a)=>{"use strict";a.d(c,{t:()=>l});var o=a(50698),r=a(59118),t=(a(72791),a(17862)),s=a(80184);const l=e=>{const c=e.hasUnsavedChanges?{intent:o.S.WARNING,minimal:!1}:{};return(0,s.jsx)(t.Z,{label:"Save",icon:r.d.FLOPPY_DISK,onClick:e.onClickSave,options:c})}},84551:(e,c,a)=>{"use strict";a.r(c),a.d(c,{EditStoryComponent:()=>x,ViewStoryComponent:()=>y,default:()=>C});a(59341);var o=a(37305),r=a(96673),t=a(81694),s=a.n(t),l=a(72791),n=a(38399),i=a(78687),u=a(57689),d=a(14635),_=a(1799),g=a(90362),F=a(44439),m=a(91366),h=a(11575),b=a(46967),p=a(12204),k=a(80184);const v=e=>{var c,a;let{isViewOnly:t=!1}=e;const v=(0,i.I0)(),[x,y]=(0,l.useState)(!1),{currentStory:C,currentStoryId:A}=(0,g.ix)((e=>e.stories)),w=null!==(c=null===C||void 0===C?void 0:C.title)&&void 0!==c?c:"",S=null!==(a=null===C||void 0===C?void 0:C.content)&&void 0!==a?a:"",{id:f}=(0,u.UO)();if((0,l.useEffect)((()=>{v((0,h.setCurrentStory)(null)),v((0,h.setCurrentStoryId)(f?parseInt(f):null))}),[v,f]),!C)return(0,k.jsx)(k.Fragment,{});const j={editorButtons:[t?(0,k.jsx)(k.Fragment,{children:w}):(0,k.jsx)(r.oi,{maxWidth:"max-w-xl",placeholder:"Enter story title",value:w,onChange:e=>{const c=e.target.value;v((0,h.setCurrentStory)({...C,title:c})),y(!0)}}),t?null:(0,k.jsx)(_.t,{onClickSave:()=>{A&&(0,b.$u)(A,w,S).then((()=>{(0,F.rO)("Story saved"),y(!1)})).catch((()=>{(0,F.N9)("Failed to save story")}))},hasUnsavedChanges:x},"save_story")]};return(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},className:s()(o.Pyr),children:[(0,k.jsx)(d.Z,{...j}),(0,k.jsxs)("div",{style:{width:"100vw",height:"100%",display:"flex"},children:[!t&&(0,k.jsx)(n.ZP,{className:"repl-react-ace react-ace",width:"100%",height:"100%",theme:"source",value:S,onChange:e=>{y(!0),v((0,h.setCurrentStory)({...C,content:e}))},onScroll:e=>{const c=document.getElementById("userblogContainer");c&&(0,m.t)(e,c)},fontSize:17,highlightActiveLine:!1,showPrintMargin:!1,wrapEnabled:!0,setOptions:{fontFamily:"'Inconsolata', 'Consolas', monospace"}}),(0,k.jsx)("div",{className:"newUserblog",id:"userblogContainer",children:(0,k.jsx)(p.Z,{fileContent:S})})]})]})},x=()=>(0,k.jsx)(v,{isViewOnly:!1});x.displayName="EditStory";const y=()=>(0,k.jsx)(v,{isViewOnly:!0});y.displayName="ViewStory";const C=v},59341:()=>{ace.define("ace/theme/source",["require","exports","module","ace/lib/dom"],(function(e,c,a){c.isDark=!0,c.cssClass="ace-source",c.cssText=".ace-source .ace_gutter {                        background: #011e3a;                        color: rgb(128,145,160)                        }                        .ace-source .ace_print-margin {                        width: 1px;                        background: #555555                        }                        .ace-source {                        background-color: #002240;                        color: #FFFFFF                        }                        .ace-source .ace_cursor {                        color: #FFFFFF                        }                        .ace-source .ace_marker-layer .ace_selection {                        background: rgba(179, 101, 57, 0.75)                        }                        .ace-source.ace_multiselect .ace_selection.ace_start {                        box-shadow: 0 0 3px 0px #002240;                        }                        .ace-source .ace_marker-layer .ace_step {                        background: rgb(127, 111, 19)                        }                        .ace-source .ace_marker-layer .ace_bracket {                        background: #090;                        }                        .ace-terminal-theme .ace_marker-layer .ace_bracket-start {                        background: #090;                        }                        .ace-terminal-theme .ace_marker-layer .ace_bracket-unmatched {                        margin: -1px 0 0 -1px;                        border: 1px solid #900                        }                        .ace-source .ace_marker-layer .ace_active-line {                        background: rgba(0, 0, 0, 0.35)                        }                        .ace-source .ace_gutter-active-line {                        background-color: rgba(0, 0, 0, 0.35)                        }                        .ace-source .ace_marker-layer .ace_selected-word {                        border: 1px solid rgba(179, 101, 57, 0.75)                        }                        .ace-source .ace_invisible {                        color: rgba(255, 255, 255, 0.15)                        }                        .ace-source .ace_keyword,                        .ace-source .ace_meta {                        color: #FF9D00                        }                        .ace-source .ace_constant,                        .ace-source .ace_constant.ace_character,                        .ace-source .ace_constant.ace_other,                        .ace-source .ace_string,                        .ace-source .ace_string.ace_regexp {                        color: #FF628C                        }                        .ace-source .ace_constant.ace_character.ace_escape {                        color: #FFFFFF                        }                        .ace-source .ace_invalid {                        color: #F8F8F8;                        background-color: #800F00                        }                        .ace-source .ace_support {                        color: #80FFBB                        }                        .ace-source .ace_support.ace_constant {                        color: #EB939A                        }                        .ace-source .ace_fold {                        background-color: #FF9D00;                        border-color: #FFFFFF                        }                        .ace-source .ace_support.ace_function {                        color: #FFFFFF                        }                        .ace-source .ace_builtinconsts {                        color: #FFFFFF                        }                        .ace-source .ace_storage {                        color: #FFEE80                        }                        .ace-source .ace_entity {                        color: #FFDD00                        }                        .ace-source .ace_comment {                        font-style: italic;                        color: #0088FF                        }                        .ace-source .ace_heading,                        .ace-source .ace_markup.ace_heading {                        color: #C8E4FD;                        background-color: #001221                        }                        .ace-source .ace_list,                        .ace-source .ace_markup.ace_list {                        background-color: #130D26                        }                        .ace-source .ace_variable {                        color: #CCCCCC                        }                        .ace-source .ace_variable.ace_language {                        color: #FF80E1                        }                        .ace-source .ace_meta.ace_tag {                        color: #9EFFFF                        }                        .ace-source .ace_indent-guide {                        background: url(data:image/png;base64,                        iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbY                        nAAAAEklEQVQImWNgYGBgYHCLSvkPAAP3AgSDTRd4AAAAAElFTkSuQmCC) right repeat-y                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete {                        background-color: #2c3e50;                        border-color: #555555;                        color: white;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_completion-highlight {                        color: #FF9D00;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_active-line {                        border-color: #555555;                        background-color: #495a6b;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content .ace_marker-layer .ace_line-hover {                        border-color: #555555;                        background-color: #6b839a;                        }                        .ace_dark.ace-source.ace_editor.ace_autocomplete .ace_content.ace_text-layer .ace_rightAlignedText {                        color: #ced9e0;                        }                        .ace_tooltip.ace_doc-tooltip {                        width: 400px;                        max-height: 40vh;                        white-space: normal;                        overflow: auto;                        background-color: #495a6b;                        color: white;                        border-color:#555555;                        }                        .ace_tooltip.ace_doc-tooltip h4 {                        color: white;                        margin: 0 0 1em;                        }                        .ace_tooltip.ace_doc-tooltip a {                        color: #48aff0;                        }                        ",e("../lib/dom").importCssString(c.cssText,c.cssClass)}))}}]);
//# sourceMappingURL=551.ae75d903.chunk.js.map