"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[555],{42693:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(51411),i=s(92379),l=s(72791),r=s(80184);const o=e=>((0,l.useEffect)((()=>{var t;null===(t=e.loadContentDispatch)||void 0===t||t.call(e)}),[]),(0,r.jsx)("div",{className:"ContentDisplay row center-xs",children:(0,r.jsx)("div",{className:(e.fullWidth?"col-md-12":"col-md-10 col-xs-11")+" contentdisplay-content-parent",children:(0,r.jsx)(n.Zb,{className:"contentdisplay-content",elevation:i.u.THREE,children:e.display})})}))},58555:(e,t,s)=>{s.r(t),s.d(t,{Component:()=>g,default:()=>f});s(22750);var n=s(51411),i=s(59118),l=s(96673),r=s(72791),o=s(78687),a=s(57689),c=s(42693),d=s(97594),h=s(90362),x=s(11575),j=s(11087),p=s(80184);const u=e=>{let{storyId:t,handleDeleteStory:s,canView:r=!1,canEdit:o=!1,canDelete:a=!1}=e;return(0,p.jsxs)(l.kC,{justifyContent:"justify-start",spaceX:"space-x-2",children:[r&&(0,p.jsx)(j.rU,{to:`/stories/view/${t}`,children:(0,p.jsx)(l.JO,{tooltip:"View",icon:()=>(0,p.jsx)(n.JO,{icon:i.d.EyeOpen}),variant:"light",color:"green"})}),o&&(0,p.jsx)(j.rU,{to:`/stories/edit/${t}`,children:(0,p.jsx)(l.JO,{tooltip:"Edit",icon:()=>(0,p.jsx)(n.JO,{icon:i.d.EDIT}),variant:"light"})}),a&&(0,p.jsx)("button",{style:{padding:0},onClick:()=>s(t),children:(0,p.jsx)(l.JO,{tooltip:"Delete",icon:()=>(0,p.jsx)(n.JO,{icon:i.d.TRASH}),variant:"light",color:"red"})})]})},y=[{id:"author",header:"Author"},{id:"title",header:"Title"},{id:"content",header:"Content"},{id:"actions",header:"Actions"}],C=()=>{const[e,t]=(0,r.useState)(""),s=(0,a.s0)(),j=(0,o.I0)(),C=(0,r.useCallback)((()=>s("/stories/new")),[s]),g=(0,r.useCallback)((async e=>{await(0,d.pG)({contents:(0,p.jsx)("p",{children:"Are you sure you want to delete this story?"}),positiveIntent:"danger",positiveLabel:"Delete"})&&j((0,x.deleteStory)(e))}),[j]),f=(0,h.ix)((e=>e.stories.storyList));return(0,p.jsx)(c.Z,{loadContentDispatch:()=>j((0,x.getStoriesList)()),display:(0,p.jsxs)(l.Zb,{children:[(0,p.jsxs)(l.kC,{justifyContent:"justify-between",children:[(0,p.jsxs)(l.kC,{justifyContent:"justify-start",spaceX:"space-x-6",children:[(0,p.jsx)(l.Dx,{children:"All Stories"}),(0,p.jsx)(n.zx,{onClick:C,icon:i.d.PLUS,children:"Add Story"})]}),(0,p.jsx)(l.oi,{maxWidth:"max-w-xl",icon:()=>(0,p.jsx)(n.JO,{icon:i.d.SEARCH,style:{marginLeft:"0.75rem"}}),placeholder:"Search for author...",onChange:e=>t(e.target.value)})]}),(0,p.jsxs)(l.iA,{marginTop:"mt-10",children:[(0,p.jsx)(l.ss,{children:(0,p.jsx)(l.SC,{children:y.map((e=>{let{id:t,header:s}=e;return(0,p.jsx)(l.xs,{children:s},t)}))})}),(0,p.jsx)(l.RM,{children:f.filter((t=>t.isPinned||t.authorName.toLowerCase().includes(e.toLowerCase()))).map((e=>{let{id:t,authorName:s,isPinned:r,title:o,content:a}=e;return(0,p.jsxs)(l.SC,{children:[(0,p.jsx)(l.pj,{children:s}),(0,p.jsx)(l.pj,{children:(0,p.jsxs)(l.kC,{justifyContent:"justify-start",children:[r&&(0,p.jsx)(l.JO,{icon:()=>(0,p.jsx)(n.JO,{icon:i.d.PIN})}),(0,p.jsx)(l.xv,{children:o})]})}),(0,p.jsx)(l.pj,{children:(0,p.jsx)(l.xv,{children:a.replaceAll(/\s+/g," ").length<=35?a.replaceAll(/\s+/g," "):a.split(/\s+/).reduce(((e,t)=>e.length+t.length<=35?e+" "+t:e),"")+"\u2026"})}),(0,p.jsx)(l.pj,{children:(0,p.jsx)(u,{storyId:t,handleDeleteStory:g,canView:!0,canEdit:!0,canDelete:!0})})]},t)}))})]})]})})},g=C;g.displayName="Stories";const f=C},22750:()=>{}}]);
//# sourceMappingURL=555.c43261bd.chunk.js.map